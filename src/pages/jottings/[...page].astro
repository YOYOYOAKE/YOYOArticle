---
import type { GetStaticPaths, Page } from 'astro'
import type { CollectionEntry } from 'astro:content'
import { listsConfig } from '~/config'
import { getAllJottings } from '~/lib/data'
import List from '~/layouts/components/Main/Lists/PostsList.astro'

export const getStaticPaths: GetStaticPaths = async ({ paginate }) => {
  const sortedJottings = await getAllJottings()

  return paginate(sortedJottings, {
    pageSize: listsConfig.jottingsList.pagination.eachPageSize,
  })
}

interface Props {
  page: Page<CollectionEntry<'jottings'>>
}

const { page } = Astro.props
---

<List {page} title={listsConfig.jottingsList.title} description={listsConfig.jottingsList.description} baseUrl="/jottings" />
