---
title: Part 1 创建 React 项目
createTime: 2025/06/23 15:12:53
permalink: /react/base/01/
---

## 1 创建 React 项目

使用 Vite 创建一个 React 项目。

```bash
npm create vite@latest my-app -- --template react
```

或者参考官网的[其他创建方式](https://react.dev/learn/installation)。

## 2 React 项目结构

React 项目结构与 Vue 项目结构类似：

::: file-tree

- public
  - vite.svg
  - ...
- src
  - App.tsx
  - main.tsx
  - ...
- index.html
- package.json
- vite.config.ts 
- ...
:::

类似于 Vue 的单文件组件，React 的组件都写在`jsx`或`tsx`文件中。

### 2.1 项目入口

项目的入口是`main.tsx`文件，默认状态下，它是这样的：

```tsx
import { StrictMode } from 'react'
import { createRoot } from 'react-dom/client'
import './index.css'
import App from './App.tsx'

createRoot(document.getElementById('root')!).render(
  <StrictMode>
    <App />
  </StrictMode>,
)
```

在`main.tsx`中引入了两个关键的函数`createRoot`和`StrictMode`。`createRoot`创建了一个根组件实例，并调用该实例的`render`函数进行根组件的渲染。

`<StrictMode>`代表启用了 React 严格模式。

### 2 组件

Vite 默认提供了一个`App`组件。

```tsx
import { useState } from 'react'
import reactLogo from './assets/react.svg'
import viteLogo from '/vite.svg'
import './App.css'

function App() {
  const [count, setCount] = useState(0)

  return (
    <>
      <div>
        <a href="https://vite.dev" target="_blank">
          <img src={viteLogo} className="logo" alt="Vite logo" />
        </a>
        <a href="https://react.dev" target="_blank">
          <img src={reactLogo} className="logo react" alt="React logo" />
        </a>
      </div>
      <h1>Vite + React</h1>
      <div className="card">
        <button onClick={() => setCount((count) => count + 1)}>
          count is {count}
        </button>
        <p>
          Edit <code>src/App.tsx</code> and save to test HMR
        </p>
      </div>
      <p className="read-the-docs">
        Click on the Vite and React logos to learn more
      </p>
    </>
  )
}

export default App
```

通读代码，发现整个`App.tsx`实质上只导出了一个函数，这个函数的返回值是一段 HTML 代码。

这就是 React 的组件定义方式。

组件中定义了一个变量`count`和一个函数`setCount`。他们使用`useState()`定义。`useState()`是 React 提供的一个方法，其用处我们将在后面讲解。

接下来阅读返回的 HTML 代码。值得注意的是这一段：

```tsx
<button onClick={() => setCount((count) => count + 1)}>
  count is {count}
</button>
```

显然，在这个按钮上，`onClick`定义了一个点击事件，使得每次点击按钮都会调用`setCount`方法。

而变量`count`使用单大括号包裹，实时响应数据。