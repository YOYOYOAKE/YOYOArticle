import{_ as p,c as k,a as t,d,b as a,w as s,r as h,o as r,e as n}from"./app-BvfsiuvN.js";const o={},c={class:"vp-file-tree"};function g(y,i){const e=h("VPIcon"),l=h("FileTreeNode");return r(),k("div",null,[i[7]||(i[7]=t(`<p>改进 YOLOv8 结构后，需要训练模型验证改进效果。</p><h2 id="_1-从源码安装ultralytics" tabindex="-1"><a class="header-anchor" href="#_1-从源码安装ultralytics"><span>1 从源码安装<code>Ultralytics</code></span></a></h2><p>克隆<code>Ultralytics</code>源代码并以开发者模式安装：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> clone</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> https://github.com/ultralytics/ultralytics.git</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">cd</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ultralytics</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">pip</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> install</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -e</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> .</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>-e .</code>表示以开发者模式安装，可以直接修改源码并立即生效。</p><h2 id="_2-训练" tabindex="-1"><a class="header-anchor" href="#_2-训练"><span>2 训练</span></a></h2><div class="language-py line-numbers-mode" data-highlighter="shiki" data-ext="py" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-py"><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">from</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> ultralytics </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">import</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> YOLO</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 加载模型（可以是 .pt 或 .yaml）</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">model </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> YOLO</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">yolov8n.yaml</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">  # 如果你要从头开始训练</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">model</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">train</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">data</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">data.yaml</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> epochs</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">50</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> imgsz</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">640</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>data.yaml</code>是 YOLOv8 的数据配置文件，描述了数据集路径、类别数量和名称。</p><div class="language-yaml line-numbers-mode" data-highlighter="shiki" data-ext="yaml" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-yaml"><span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">path</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /path/to/dataset</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">  # 图片和标签的根路径</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">train</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> images/train</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">val</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> images/val</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">nc</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 2</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">  # 类别数量</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">names</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> [</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">bicycle</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">pedestrian</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">]</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">  # 类别名称</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>数据集的目录结构应该符合以下格式：</p>`,10)),d("div",c,[a(l,{expanded:"",type:"folder",filename:"path/to/dataset",level:0},{icon:s(()=>[a(e,{provider:"iconify",name:"vscode-icons:default-folder"})]),comment:s(()=>[...i[0]||(i[0]=[n("数据集根路径",-1)])]),default:s(()=>[a(l,{expanded:"",type:"folder",filename:"images",level:1},{icon:s(()=>[a(e,{provider:"iconify",name:"vscode-icons:folder-type-images"})]),comment:s(()=>[...i[1]||(i[1]=[n("RGB 图像",-1)])]),default:s(()=>[a(l,{type:"file",filename:"train",level:2},{icon:s(()=>[a(e,{provider:"iconify",name:"vscode-icons:default-file"})]),comment:s(()=>[...i[2]||(i[2]=[n("训练集",-1)])]),_:1}),a(l,{type:"file",filename:"val",level:2},{icon:s(()=>[a(e,{provider:"iconify",name:"vscode-icons:default-file"})]),comment:s(()=>[...i[3]||(i[3]=[n("验证集",-1)])]),_:1})]),_:1}),a(l,{expanded:"",type:"folder",filename:"labels",level:1},{icon:s(()=>[a(e,{provider:"iconify",name:"vscode-icons:default-folder"})]),comment:s(()=>[...i[4]||(i[4]=[n("图像标签",-1)])]),default:s(()=>[a(l,{type:"file",filename:"train",level:2},{icon:s(()=>[a(e,{provider:"iconify",name:"vscode-icons:default-file"})]),comment:s(()=>[...i[5]||(i[5]=[n("训练集",-1)])]),_:1}),a(l,{type:"file",filename:"val",level:2},{icon:s(()=>[a(e,{provider:"iconify",name:"vscode-icons:default-file"})]),comment:s(()=>[...i[6]||(i[6]=[n("验证集",-1)])]),_:1})]),_:1})]),_:1})]),i[8]||(i[8]=t(`<p><code>images</code>中的每张图片都应该对应到<code>labels</code>中的<code>.txt</code>标签文件。YOLO 标签格式为：</p><div class="language-txt line-numbers-mode" data-highlighter="shiki" data-ext="txt" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-txt"><span class="line"><span>class_id x_center y_center width height</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>其中坐标为 0 到 1 的归一化坐标。</p><h2 id="_3-预测" tabindex="-1"><a class="header-anchor" href="#_3-预测"><span>3 预测</span></a></h2><p>和训练类似：</p><div class="language-py line-numbers-mode" data-highlighter="shiki" data-ext="py" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-py"><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">from</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> ultralytics </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">import</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> YOLO</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 加载训练好的模型</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">model </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> YOLO</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">path/to/best.pt</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 进行预测</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">results </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> model</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">predict</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">source</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">example.jpg</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> save</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">True</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> conf</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">0.25</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>results</code>是一个数组，每个元素是一张图片的预测结果，你可以从中获取：</p><ul><li><code>boxes.xyxy</code>：边界框坐标；</li><li><code>boxes.cls</code>：类别索引；</li><li><code>boxes.conf</code>： 置信度；</li><li><code>orig_img</code>： 原图；</li><li><code>plot()</code>： 可视化图像。</li></ul>`,8))])}const v=p(o,[["render",g]]),A=JSON.parse('{"path":"/deeplearning/yolo/03/","title":"Part 3 YOLOv8 训练与预测","lang":"zh-CN","frontmatter":{"title":"Part 3 YOLOv8 训练与预测","createTime":"2025/08/07 11:18:31","permalink":"/deeplearning/yolo/03/","description":"改进 YOLOv8 结构后，需要训练模型验证改进效果。 1 从源码安装Ultralytics 克隆Ultralytics源代码并以开发者模式安装： -e .表示以开发者模式安装，可以直接修改源码并立即生效。 2 训练 data.yaml是 YOLOv8 的数据配置文件，描述了数据集路径、类别数量和名称。 数据集的目录结构应该符合以下格式： images...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Part 3 YOLOv8 训练与预测\\",\\"image\\":[\\"\\"],\\"dateModified\\":null,\\"author\\":[]}"],["meta",{"property":"og:url","content":"https://www.yoake.cc/deeplearning/yolo/03/"}],["meta",{"property":"og:site_name","content":"YOYOArticle"}],["meta",{"property":"og:title","content":"Part 3 YOLOv8 训练与预测"}],["meta",{"property":"og:description","content":"改进 YOLOv8 结构后，需要训练模型验证改进效果。 1 从源码安装Ultralytics 克隆Ultralytics源代码并以开发者模式安装： -e .表示以开发者模式安装，可以直接修改源码并立即生效。 2 训练 data.yaml是 YOLOv8 的数据配置文件，描述了数据集路径、类别数量和名称。 数据集的目录结构应该符合以下格式： images..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}]]},"readingTime":{"minutes":1.23,"words":368},"git":{},"autoDesc":true,"filePathRelative":"repos/deeplearning/4.Char.4 YOLOv8/3.md","headers":[]}');export{v as comp,A as data};
